<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"> 
<head>
    <title>Registrar Cliente</title>
</head>
<body>
    <h2>Nuevo Cliente</h2>
    <form id="clienteForm">
        <input type="text" id="nombre" placeholder="Nombre" required><br>
        <input type="email" id="correo" placeholder="Correo" required><br>
        <input type="text" id="dni" placeholder="DNI" required><br>
        <input type="text" id="telefono" placeholder="Teléfono" required><br>
        <input type="text" id="direccion" placeholder="Dirección" required><br>
        <button type="submit">Registrar</button>
    </form>

    <script>
        document.getElementById('clienteForm').addEventListener('submit', function(event) {
            event.preventDefault();

            const cliente = {
                nombre: document.getElementById('nombre').value,
                correo: document.getElementById('correo').value,
                dni: document.getElementById('dni').value,
                telefono: document.getElementById('telefono').value,
                direccion: document.getElementById('direccion').value
            };

            const usuarioId = 1; // ⚠️ Reemplaza con el ID real del usuario logueado

            fetch(`/clientes/registrar/${usuarioId}`, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(cliente)
            })
            .then(response => response.json())
            .then(data => {
                alert('Cliente registrado con ID: ' + data.id);
            })
            .catch(error => {
                console.error('Error:', error);
            });
        });
    </script>
</body>
</html>